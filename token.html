<script src="jquery-2.1.1.min.js"></script>
<script>
var _search = location.search;
_search = _search.substr(1).split('&');
var search = {};
for(var i=0; i<_search.length; i++){
	var kv = _search[i].split('=');
	search[kv[0]] = kv[1];
}
var token = search['access_token'];

function githubApiRequest(uri, parameter, callback){
	if(typeof(parameter)=='function'){
		callback = parameter;
		parameter = {};
	}
	else{
		parameter = parameter?parameter:{};
	}
	var q = '';
	for (var key in parameter) {
		q += key + '=' + parameter[key]+'&';
	}
	q += 'access_token='+token;
	var url = 'https://api.github.com'+uri+'?'+q;
	$.ajax({
		url: url,
		dataType: 'json',
		success: callback
	});
}

function getUserInfo(callback){
	githubApiRequest('/user', callback);
}

function getRepoList(callback){
	githubApiRequest('/user/repos', callback);
}

getRepoList(function(r){
	console.log(r);
});
</script>